<!DOCTYPE html> 						<!-- Indique qu'on fait une page en html5-->
<html> 									<!-- Veut dire qu'ici, on parle html. -->
	<head> 								<!-- Entête de la page (partie technique) -->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  <!-- Encodage -->
		<link rel="stylesheet" href="style.css" /> <!-- Chemin vers le fichier css -->
		<link rel="shortcut icon" href="img/icon.ico"> <!-- Icone de l'onglet -->
		<title>BerengerMantoue.fr</title> 		<!-- Titre pour onglet et google -->
	</head>

	<body> <!-- C'est là que ça se passe ... -->		
		 <div id="global">
			<header>
				<a href="index.html" ><img src="img/logo.png" alt="logo" id="Logo" /></a>
				<a href="index.html" ><h1>berengermantoue.fr</h1></a>
				
				<nav>
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="about.html">About</a></li>
						<li id="Current">Contact</li>
					</ul>
				</nav>
			</header>
			
			<section id="Contact">
				<div>
					<form method="post" action="php/sendmail.php" onsubmit="return verifForm(this)">
						<p>
							<label for="name">Name</label>
							<input type="text" name="name" id="name" maxlength="35" onblur="verifPseudo(this)" />
						</p>
						<p>
							<label for="email">Email</label>
							<input type="email" name="email" id="email" maxlength="35" onblur="verifMail(this)" />						
						</p>
						<p>
							<label for="message">Message</label>
							<textarea id="message" name="message" onblur="verifMessage(this)" ></textarea>						
						</p>
						
						<p>
							<label for="captcha">Human enough ?</label>
							<input type="text" name="captcha" id="captcha" maxlength="4" onblur="verifCaptcha(this)" />
							<img src="php/captcha.php" alt="Captcha" id="CaptchaImg" />		
						</p>
						
						<div id="ButtonWraper">
							<input type="submit" value="S e n d" id="SendButton"/>
						</div>
						
						<script>
							function surligne(champ, erreur)
							{
							   if(erreur)
								  champ.style.backgroundColor = "#fba";
							   else
								  champ.style.backgroundColor = "";
							}
							
							function verifForm(f)
							{									
								var nameOk = verifName(f.name);
								var mailOk = verifMail(f.email);
								var msgOk = verifMessage(f.message);
								var capOk = verifCaptcha(f.captcha);

								if(nameOk && mailOk && msgOk && capOk)
								{						
									return true;
								}
								else
								{
									alert("Please fill in every fields.");
									return false;
								}
							}

							function verifName(champ)
							{
							   if(champ.value.length < 2 || champ.value.length > 35)
							   {			
								  surligne(champ, true);
								  return false;
							   }
							   else
							   {			
								  surligne(champ, false);
								  return true;
							   }
							}
							
							function verifCaptcha(champ)
							{
							   if(champ.value.length != 4)
							   {			
								  surligne(champ, true);
								  return false;
							   }
							   else
							   {			
								  surligne(champ, false);
								  return true;
							   }
							}

							function verifMessage(champ)
							{
							   if(champ.value.length < 15)
							   {
								  surligne(champ, true);
								  return false;
							   }
							   else
							   {
								  surligne(champ, false);
								  return true;
							   }
							}
							
							function verifMail(champ)
							{
							   var regex = /^[a-zA-Z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/;
							   if(!regex.test(champ.value))
							   {
								  surligne(champ, true);
								  return false;
							   }
							   else
							   {
								  surligne(champ, false);
								  return true;
							   }
							}
						</script>
					</form>
				</div>				
			</section>
			
			<footer>
			</footer>
		</div>
	</body>
</html>	